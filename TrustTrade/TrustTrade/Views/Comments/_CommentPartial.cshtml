@using TrustTrade.ViewModels
@model CommentVM

<!-- This is for displaying a new comment in the post details page  -->
<li class="list-group-item">
    <div class="d-flex align-items-center">
        <!-- Profile Links -->
        <a asp-controller="Profile" 
            asp-action="UserProfile" 
            asp-route-username="@Model.Username"
            class="image-profile-link">
            <img src="@(Model.ProfilePicture != null 
                    ? $"data:image/jpeg;base64,{Convert.ToBase64String(Model.ProfilePicture)}"
                    : "/icons/defpfp.png")"
                    alt="Profile Picture"
                    class="rounded-circle"
                    style="width: 50px; height: 50px;" />
        </a>
        <a asp-controller="Profile" 
            asp-action="UserProfile" 
            asp-route-username="@Model.Username"
            class="username-profile-link ms-2">
            @Model.Username
        </a>
        <!-- Display Plaid Info If Enabled-->
        @if (Model.IsPlaidEnabled)
        {
            <span class="text-success ms-2">
                @if (!string.IsNullOrEmpty(Model.PortfolioValueAtPosting))
                {
                    @Model.PortfolioValueAtPosting
                }
                <i class="bi bi-patch-check-fill"></i>
            </span>
        }
        <!-- Display Time Ago -->
        <span class="ms-2">@Model.TimeAgo</span>
    </div>
    <!-- Display Main Comment Content -->
    <p class="mt-3 mb-3 ps-5">@Model.Content</p>
</li>